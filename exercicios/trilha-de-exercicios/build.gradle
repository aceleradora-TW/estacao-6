apply plugin: 'idea'
apply plugin: 'java'

ext {
    temas = [
            'logica',
            'introducao'
    ]

    dificuldades = [
            'facil',
            'medio',
            'dificil'
    ]
}

repositories {
    mavenCentral()
}

dependencies {
    compile 'com.thoughtworks.gauge:gauge-java:+'
}

task relatorio(type: Exec, dependsOn: 'test') {
    commandLine "$rootDir/gaugew", "run", "--tags", "\"${(temas + dificuldades).join("|")}\"" , "enunciados"
}

task exibeResultado(type: Exec) {
    commandLine "xdg-open", "$rootDir/reports/html-report/index.html"
}

relatorio.finalizedBy(exibeResultado)
